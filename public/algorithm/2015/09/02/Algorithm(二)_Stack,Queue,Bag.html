<!DOCTYPE html>
<html lang = "en">
<head>
    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/posts/favico/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/posts/favico/favico/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/posts/favico/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/posts/favico/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/posts/favico/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/posts/favico/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/posts/favico/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/posts/favico/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/posts/favico/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/assets/images/posts/favico/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/posts/favico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/posts/favico/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/posts/favico/favicon-16x16.png">
    <link rel="manifest" href="/assets/images/posts/favico/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/images/posts/favico/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">   

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/font-awesome/css/font-awesome.min.css">
    <link href="/assets/css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/syntax.css">


    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600' rel='stylesheet' type='text/css'>
<!--     <script type="text/javascript" src="http://api.youziku.com/webfont/FastJS/yzk_976E121ED7CC0870"></script> -->

    <title>SHUNMIAN</title>
</head>


<body>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3 sidebar hidden-xs sidebar">
                
<!--sidebar.html-->
        <header class="sidebar_header " role="banner">
            <a href="http://www.shunmian.me/index.html">
                <img src = "https://www.gravatar.com/avatar/02eefecba7f0b21939d12a37f94bf5df?s=150" class="img-circle img-responsive center-block sidebar_logo sidebar_img" />
            </a>


            <h3 class="title text-center">
                <a href="http://www.shunmian.me/index.html">SHUNMIAN</a>
            </h3>

        </header>


        <hr class="hr_short"/>
        <div id = "bio" class="text-center sidebar_bio">
            

                <p>嗨，欢迎来到我的博客。<br/>
                我是Shunmian，一名iOS开发者。<br/>
                <hr class = "hr_short_low">
                正在学习Algorithm，Functional Programming，Machine Learning，Data Mining 和 Cloud Computation。 

                </p>

            
        </div>


        <hr class="hr_middle"/>
        <div id = "contact-list" class="text-center">
            <ul class="list-unstyled list-inline">
                <li>
                    
                    <a class="btn btn_info_outline" href="mailto:shunmian@gmail.com"><i class="fa fa-envelope fa-lg"></i></a>
                    
                </li>

                <li>
                    
                    <a class="btn btn_info_outline" href="https://github.com/shunmian"><i class="fa fa-github fa-lg"></i></a>
                    
                </li>

                <li>
                    
                    <a class="btn btn_info_outline" href="https://github.com/shunmian"><i class="fa fa-twitter fa-lg"></i></a>
                    
                </li>

                <li>
                    <a class="btn btn_info_outline" href="http://www.shunmian.me/feed.xml"><i class="fa fa-rss fa-lg"></i></a>
                </li>
        </div>


        <hr class="hr_short"/>
        <div id = "contact-list" class="text-center">
            <ul class="unstyled-list list-inline">
                <li>
                    <a class="btn btn_info_outline btn-sm" href="http://www.shunmian.me/index.html"><i class="fa fa-home fa-md"></i> 主页</a>
                </li>

                <li>
                    <a class="btn btn_info_outline btn-sm" href="http://www.shunmian.me/tags.html"><i class="fa fa-tags fa-md"></i> 标签</a>
                </li>

                <li>
                    <a class="btn btn_info_outline btn-sm" href="http://www.shunmian.me/categories.html"><i class="fa fa-list fa-md"></i> 分类</a>
                </li>
            </ul>
        </div>
        <div class="padding_bottom_500"></div>




<!--sidebar.html end-->

            </div>

            <div class="col-sm-9 col-sm-offset-3">
                

<div class="page-header col-sm-10 col-sm-offset-1">
    <h1 class="article_mainTitle">Algorithm(二)： Stack 栈，Queue 队列 </h1>
    <span class="post_date">
        2015-09-02 •
    </span>
    <span class="post_category">
        Algorithm
    </span>
</div>

<article class="article">
    <div class="col-sm-10 col-sm-offset-1">
        <div class="article_mainBody">
            <p class="article_content_title">目录</p>

<ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">1. 介绍</a></li>
  <li><a href="#linked-listarray" id="markdown-toc-linked-listarray">2. 链表(Linked-List)，数组(Array)</a></li>
  <li><a href="#queuestack" id="markdown-toc-queuestack">3. 队列(Queue)，栈(Stack)</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">3.1 栈</a>        <ul>
          <li><a href="#list" id="markdown-toc-list">3.1.1 List实现</a></li>
          <li><a href="#array" id="markdown-toc-array">3.1.2 Array实现</a></li>
          <li><a href="#javalist" id="markdown-toc-javalist">3.1.3 Java库的List</a></li>
          <li><a href="#stack-application" id="markdown-toc-stack-application">3.2.4 Stack application</a></li>
        </ul>
      </li>
      <li><a href="#section-2" id="markdown-toc-section-2">3.2 队列</a>        <ul>
          <li><a href="#dequeue" id="markdown-toc-dequeue">3.2.1 Dequeue</a></li>
          <li><a href="#randomized-queue" id="markdown-toc-randomized-queue">3.2.2 Randomized Queue</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#generic" id="markdown-toc-generic">4 泛型(Generic)</a></li>
  <li><a href="#iterable" id="markdown-toc-iterable">5 可迭代(Iterable)</a></li>
  <li><a href="#programming-assingment-deque-and-randomizedqueue" id="markdown-toc-programming-assingment-deque-and-randomizedqueue">6 Programming Assingment: Deque and RandomizedQueue</a></li>
  <li><a href="#section-3" id="markdown-toc-section-3">7 总结</a></li>
  <li><a href="#section-4" id="markdown-toc-section-4">8 参考资料</a></li>
</ul>

<hr class="hr-short-left" />

<h2 id="section">1. 介绍</h2>
<p>包(Bag)，队列(Queue)，栈(Stack) 在计算机科学里作为最重要的三个基本数据结构之一有着广泛的应用。对于他们的实现,有两种方案，分别是基于链表(Linked-List)和数组(Array)。链表和数组对于查找(前者是O(N),后者是O(1))和增删(前者是O(1),后者是O(N))各自有优势。下面我们先介绍链表和数组，再用他们实现包，队列和栈。最后我们引入泛型的概念和可迭代的接口来使得包，队列，栈能够优雅地实现存储各个类型的数据以及快速枚举。</p>

<h2 id="linked-listarray">2. 链表(Linked-List)，数组(Array)</h2>
<p>链表便于增删(O(1))，查找效率低(O(N)); 数组便于查找(用下标O(1)),增删效率低(由于固定长度，增加减少元素时要copy到新的Array。最优算法：items = capacity时，capactiy double; items = 1/4 *capacity时,capacity half。时间复杂度是(O(N))。链表和数组的空间复杂度都是O(N)。</p>

<p class="img_middle_mid"><img src="/assets/images/posts/2015-09-02/LinkedList.png" alt="LinkedList&amp;Array" /></p>

<h2 id="queuestack">3. 队列(Queue)，栈(Stack)</h2>

<h3 id="section-1">3.1 栈</h3>
<p>队列是LIFO(后进先出)。需要1个操作位，指向栈的尾部。</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="kd">class</span> <span class="nc">StackOfStrings</span><span class="o">{</span>
	<span class="n">StackOfStrings</span><span class="o">()</span>            <span class="c1">//create an empty stack</span>
	<span class="kt">void</span> <span class="nf">push</span><span class="o">(</span><span class="n">String</span> <span class="n">item</span><span class="o">)</span>      <span class="c1">//insert a new string onto stack</span>
	<span class="n">String</span> <span class="nf">pop</span><span class="o">()</span>                <span class="c1">//remove and return the string</span>
	<span class="n">most</span> <span class="n">recently</span> <span class="n">added</span>
	<span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span>           <span class="c1">//is the stack empty?</span>
	<span class="kt">int</span> <span class="nf">size</span><span class="o">()</span>                  <span class="c1">//number of strings on the stack</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h4 id="list">3.1.1 List实现</h4>
<p>实现栈只需要实现上述四个API接口即可，维护链表(List)相对简单，处理好指针的赋值即可，内从空间管理比较高效，并且各个操作所小号的时间固定，方差小，因此链表适合快速响应<code class="highlighter-rouge">pop()</code>和<code class="highlighter-rouge">push(Item item)</code>的操作场合，比如<strong>实时的通信系统</strong>。</p>

<p class="img_middle_lg"><img src="/assets/images/posts/2015-09-02/stack.png" alt="Stack" /></p>

<h4 id="array">3.1.2 Array实现</h4>
<p>数组的优点是<strong>随机访问(Random Access)</strong>，访问时只需要索引下标即可，复杂度是O(1)，但是由于数组大小固定，内存维护起来稍微复杂。例如在<code class="highlighter-rouge">push(Item item)</code>的时候，如果数组容量不够了需要申请新的更大容量的数组，并且将原有的数据<strong>一一复制</strong>到新的数组中。这样<code class="highlighter-rouge">push(Item item)</code>的时间消耗方差比较大，最好的情况是直接插入，O(1)复杂度；最坏的情况是遍历一遍原有的数组，O(N)复杂度。因此，这对增大<strong>数组容量</strong>的策略提出了考验。</p>

<p>一种直接能想到的策略是每次增加1的容量，但是这样的最坏的情况是连续<code class="highlighter-rouge">push(Item item)</code>操作，那么时间复杂度为:</p>

<p style="text-align: center;">
 1 + 2 + 3 + ... + N ~ O(N<sup>2</sup>)
</p>
<p>简直无法忍受，因此我们想到能否增大新数组的增量来降低复杂度，每次翻倍如何？计算一下<strong>均摊复杂度(Amortized Cost)</strong>：</p>
<p style="text-align: center;">
 N + (2 + 4 + 8 + ... + N) ~ O(3N)
</p>
<p>这里需要注意一下实现的细节，就是运用第二种策略的时候，初始的时候数组大小为2，那么每次除了要添加新的元素外(公式里的N)，每次数组容量到达上限后需要重新复制的时候也需要额外的操作，并且操作步数是以2为公比的等比数列，因此求和后的复杂度为O(3N)。
<code class="highlighter-rouge">push(Item item)</code>的复杂度成功的得到了降低，继续思考，这样数组的维护就足够了吗？如果执行了<code class="highlighter-rouge">pop()</code>操作呢？容量为100的数组只存1个元素习大大会不高兴的，本着<strong>厉行节约，反对浪费</strong>的主旨，我们需要制定内存回收的机制。</p>

<p>直接能想到的方案就是如法炮制，当数组元素个数降到数组容量的一半的时候，申请容量减半的心数组并且一一复制。但是，仔细分析发现如果恰好一组<code class="highlighter-rouge">push(Item item)</code>和<code class="highlighter-rouge">pop()</code>连续交替操作发生在数组容量为2<sup>m&lt;/su&gt;的时候，会发生不断申请和释放内存的情况，并且每次操作都要遍历原有数组。</sup></p>

<p>改进的办法就是当数组元素个数降到原有数组容量的1/4的时候执行减半操作，也就是说，数组的大小在数组容量的25% ~ 100%直接波动，这样能避免频繁的震荡。</p>

<h4 id="javalist">3.1.3 Java库的List</h4>

<p>在Java中自带了List数据结构，并且分别用联保和数组实现了两个版本，如下所示：</p>

<ol>
  <li><code class="highlighter-rouge">java.util.LinkedList</code>，利用了linked list；</li>
  <li><code class="highlighter-rouge">java.util.ArrayList</code>，利用了resizing array。</li>
</ol>

<h4 id="stack-application">3.2.4 Stack application</h4>

<p>利用栈的LIFO性质，可以用来解决<strong>算术表达式求值</strong>问题，同样也基于实现简化版的解释器。具体来说，例如求以下表达式的代数值：</p>

<p style="text-align: center;">
 (1 + ((2 + 3) * (4 * 5)))
</p>

<p>解决方案是利用<strong>Dijkstra</strong>的<strong>双栈算法(2-stackalgorithm)</strong>，简单来说，就是维护两个栈，<strong>操作数栈(Operand Stack)</strong>和<strong>操作符栈(Operator Stack)</strong>，前者就是被运算的数字，后者就是具体运算。算法如下：</p>

<ol>
  <li>Push Operands onto the operand stack；</li>
  <li>Push operator onto the operator stack；</li>
  <li>Ignore left parentheses；</li>
  <li>On encountering a right parenthesis, pop and Operator, pop the requisite number of operands, and push onto the operand stack the result of applying that operator to thoses operands。</li>
</ol>

<h3 id="section-2">3.2 队列</h3>
<p>队列是FIFO(先进先出)。需要两个操作位，分别指向队列的头和尾。因此实现上只需要在Stack的基础上做些许调整即可。队列需要的API如下。</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="kd">class</span> <span class="nc">QueueOfStrings</span><span class="o">{</span>
	<span class="n">QueueOfStrings</span><span class="o">{}</span>            <span class="c1">//create an empty queue</span>
	<span class="kt">void</span> <span class="nf">enqueue</span><span class="o">(</span><span class="n">String</span> <span class="n">item</span><span class="o">)</span>   <span class="c1">//insert a new string onto queue</span>
	<span class="n">String</span> <span class="nf">dequeue</span><span class="o">()</span>            <span class="c1">//remove and return the string least recently added</span>
	<span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span>           <span class="c1">//is the queue empty?</span>
	<span class="kt">int</span> <span class="nf">size</span><span class="o">()</span>                  <span class="c1">//number of strings on the queue</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>下面介绍Queue的两个比较有意思的衍生数据结构，<strong>Dequeue</strong>和<strong>Randomized Queue</strong></p>

<h4 id="dequeue">3.2.1 Dequeue</h4>

<p>Deque(Double-ended Queue)是双端队列，即允许在队列的两端进行插入和取出，其实相当于两个反向的栈拼接在一起，如下图所示。</p>

<p class="img_middle_mid"><img src="/assets/images/posts/2015-09-02/deque.png" alt="Deque" /></p>

<p>deque的API如下：</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="kd">class</span> <span class="nc">Deque</span><span class="o">{</span>
	<span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">();</span>
	<span class="kt">int</span> <span class="nf">size</span><span class="o">();</span>
	<span class="kt">void</span> <span class="nf">addFirst</span><span class="o">(</span><span class="n">Item</span> <span class="n">item</span><span class="o">);</span>
	<span class="kt">void</span> <span class="nf">addLast</span><span class="o">(</span><span class="n">Item</span> <span class="n">item</span><span class="o">);</span>
	<span class="n">Item</span> <span class="nf">removeFirst</span><span class="o">()</span>
	<span class="n">Item</span> <span class="nf">removeLast</span><span class="o">()</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>和Stack一样，可以用List和Array两种方式实现Deque,相对而言List的实现简单，可以利用双向链表，即每个节点包含<code class="highlighter-rouge">pre</code>和<code class="highlighter-rouge">next</code>指针，这样维护起来非常的方便高效。这其实是week2的programming assignemnt，具体代码见<a href="https://github.com/shunmian/Algorithm">这里</a>。</p>

<h4 id="randomized-queue">3.2.2 Randomized Queue</h4>
<p><strong>随机化队列</strong>也就是一个<strong>包(Bag)</strong>，类似Bag of words一样，本质上就是一堆无序的元素，如下所示：</p>

<p class="img_middle_mid"><img src="/assets/images/posts/2015-09-02/bag.png" alt="Bag" /></p>

<p>包是无序的，需要的API如下：</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre><span class="kd">class</span> <span class="nc">BagOfStrings</span><span class="o">{</span>
	<span class="n">BagOfStrings</span><span class="o">()</span>              <span class="c1">//create an empty bag</span>
	<span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span>			<span class="c1">//empty or not</span>
	<span class="kt">void</span> <span class="nf">enqueue</span><span class="o">(</span><span class="n">String</span> <span class="n">x</span><span class="o">)</span>      <span class="c1">//insert a new String item onto bag</span>
	<span class="kt">int</span> <span class="nf">size</span><span class="o">()</span>                  <span class="c1">//number of items in bag</span>
	<span class="n">String</span> <span class="nf">sample</span><span class="o">()</span>				<span class="c1">//随机返回一个String item</span>
	<span class="n">String</span> <span class="nf">dequeue</span><span class="o">()</span>			<span class="c1">//随机返回一个String item 并删除</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>其中最核心的是后面的<code class="highlighter-rouge">Item dequeue()</code>和<code class="highlighter-rouge">Item sample()</code>，前者要求随机取出一个元素，并且删除；后者则要求返回一个元素，并不需要删除。</p>

<p>囿于笔者的水平，考虑到如果用List实现RandomizedQueue随机化不好处理，于是考虑利用Array实现，大致思想是生成随机序列作为索引的下标，然后依次将合法的元素取出即可，具体的实现参见<a href="https://github.com/shunmian/Algorithm">这里</a>。</p>

<h2 id="generic">4 泛型(Generic)</h2>
<p>如果我们存储的不只是String，还有Integer，Double,或者我们自己的Object在包，队列，或者栈里。我们如果再实现那些类型的包，队列，栈，就有大量重复的代码。泛型优雅地解决了这个问题，将类型参数化。</p>

<blockquote>
  <p>泛型<Item>：将类型参数化，相当于给"类型"可选，在类内部可以对Item进行引用。</Item></p>
</blockquote>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FixedCapacityStack</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span>
<span class="o">{</span>
 <span class="kd">private</span> <span class="n">Item</span><span class="o">[]</span> <span class="n">s</span><span class="o">;</span>
 <span class="kd">private</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

 <span class="kd">public</span> <span class="nf">FixedCapacityStack</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span>
 <span class="o">{</span> <span class="n">s</span> <span class="o">=</span> <span class="o">(</span><span class="n">Item</span><span class="o">[])</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="n">capacity</span><span class="o">];</span> <span class="o">}</span>

 <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span>
 <span class="o">{</span> <span class="k">return</span> <span class="n">N</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span> <span class="o">}</span>

 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">push</span><span class="o">(</span><span class="n">Item</span> <span class="n">item</span><span class="o">)</span>
 <span class="o">{</span> <span class="n">s</span><span class="o">[</span><span class="n">N</span><span class="o">++]</span> <span class="o">=</span> <span class="n">item</span><span class="o">;</span> <span class="o">}</span>

 <span class="kd">public</span> <span class="n">Item</span> <span class="nf">pop</span><span class="o">()</span>
 <span class="o">{</span> <span class="k">return</span> <span class="n">s</span><span class="o">[--</span><span class="n">N</span><span class="o">];</span> <span class="o">}</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h2 id="iterable">5 可迭代(Iterable)</h2>
<p>泛型大大加强了基本数据结构的泛化能力，但是对于程序员而言，适当简介的代码不仅能增强程序的可读性，并且能减少代码的长度，就像一颗糖一样甜蜜蜜，含在嘴中爱不释口，这就是语法糖。
在Java中允许使用foreach statement，即支持以下用法:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">s</span> <span class="o">:</span> <span class="n">stack</span><span class="o">)</span>
 <span class="n">StdOut</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>但是前提是stack的类型必须实现Iterable的接口:</p>

<ol>
  <li>Iterable是Iterator(实现了hasNext和next方法)的工厂方法，实现了Iterable就能用foreach快速遍历。</li>
  <li>Iterator 需要实现 <code class="highlighter-rouge">hasNext()</code>和<code class="highlighter-rouge">next()</code>方法。</li>
</ol>

<p>Iterable：</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Iterable</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span>
<span class="o">{</span>
 <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">();</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Iterator：</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span>
<span class="o">{</span>
 <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">();</span>
 <span class="n">Item</span> <span class="nf">next</span><span class="o">();</span>
 <span class="kt">void</span> <span class="nf">remove</span><span class="o">();</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h2 id="programming-assingment-deque-and-randomizedqueue">6 Programming Assingment: Deque and RandomizedQueue</h2>

<p>本周作业如下:</p>

<p>Deque(可以从头尾入队出队)，RandomizedQueue(随机出队)。</p>

<p>Deque的思路是用一个双向的<code class="highlighter-rouge">node(Item item, Node previous, Node next)</code>来用链表实现。</p>

<p>RandomizedQueue的实现用数组很容易想到，用stdRandom.uniform(N)来取item，关键的问题是如何维护这个数组:</p>

<ol>
  <li>Step 1, 容量不足double数组，容量1/4,half 数组。这样才能满足均摊时间复杂度为O(1)的要求；</li>
  <li>Step 2, 但是仔细一想dequeue的实现，随机出队一个a[i]，则在resize条件未满足前(Step 1)，数组a的中间有空的元素，那么下次dequeue，在同样的数组a下，如何剔除掉这个空的元素？方法是一直取随机数i，直到取到下一个不为null的a[i]；</li>
  <li>Step 3, enqueue策略如何选择？可以用一个iVar int tail来保存数组最后一个有效item的index，每次enqueue先判断Step1，再加到tail++。那么enqueue的是时候如何判断step1呢？是用N(item 个数)还是tail呢？答案是用tail，当tail&lt;a.length/4的时候，resize(a.length/2)。</li>
</ol>

<p>主要思路如上，其中有一些细节需要读者仔细斟酌。下面贴一张跑分图。</p>

<p class="img_middle_lg"><img src="/assets/images/posts/2015-09-02/assessment.png" alt="Assessment" /></p>

<h2 id="section-3">7 总结</h2>

<ol>
  <li>Stack：需要一个接口位，有list和array两种实现，最后给了Stack的应用栗子；</li>
  <li>Queue：重点介绍了两种衍生数据结构<strong>Deque</strong>和<strong>RandomizedQueue(即Bag)</strong></li>
  <li>为了增强Stack和Queue的工程实用性，介绍了泛型和可迭代接口。</li>
</ol>

<h2 id="section-4">8 参考资料</h2>
<ul>
  <li><a href="http://algs4.cs.princeton.edu/home/">Algorithm</a>;</li>
  <li><a href="http://visualgo.net/">Visualize Algorithm</a>;</li>
  <li><a href="http://aaronxic.com/algorithms-week2-stacks-and-queues/#.Vx3WL6N941g">[ALGORITHMS] STACKS AND QUEUES</a>;</li>
</ul>


            <div class="clearfix"></div>
        </div>


    
    <ul class="tag_box list-unstyled list-inline">
      <li><i class="fa fa-folder-open"></i></li>
      
      
      
        <li><a href="http://www.shunmian.me/categories.html#Algorithm-ref">
          Algorithm <span>(7)</span>
          
        </a></li>
      
      
    </ul>
    

    
    <ul class="list-inline">
      <li><i class="fa fa-tags"></i></li>
      
      
      
        <li>
          <a href="http://www.shunmian.me/tags.html#Queue-ref">
          Queue <span>(1)</span>
          ,
          </a>
        </li>
      
        <li>
          <a href="http://www.shunmian.me/tags.html#Bag-ref">
          Bag <span>(1)</span>
          ,
          </a>
        </li>
      
        <li>
          <a href="http://www.shunmian.me/tags.html#Stack-ref">
          Stack <span>(1)</span>
          ,
          </a>
        </li>
      
        <li>
          <a href="http://www.shunmian.me/tags.html#LinkedList-ref">
          LinkedList <span>(1)</span>
          ,
          </a>
        </li>
      
        <li>
          <a href="http://www.shunmian.me/tags.html#Array-ref">
          Array <span>(2)</span>
          ,
          </a>
        </li>
      
        <li>
          <a href="http://www.shunmian.me/tags.html#Generics-ref">
          Generics <span>(1)</span>
          ,
          </a>
        </li>
      
        <li>
          <a href="http://www.shunmian.me/tags.html#Iterable-ref">
          Iterable <span>(1)</span>
          
          </a>
        </li>
      
      
      
    </ul>
    

<hr />
<div >
    <section class="col-sm-7">
        <h4>Share Post</h4>
        <a class="btn btn-default btn-sm" href="http://twitter.com/share?text=Algorithm(二)： Stack 栈，Queue 队列&via=Wanderl29817400" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <i class="fa fa-twitter fa-sm"></i>
        Twitter
        </a>

        <a class="btn btn-default btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-sm"></i>
          Facebook
        </a>

        <a class="btn btn-default btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-sm"></i>
          Google+
        </a>
    </section>

    <section class="col-sm-5">
        <img src = "https://www.gravatar.com/avatar/02eefecba7f0b21939d12a37f94bf5df" class="img-rounded" />
        <h4>Shunmian</h4>
        <p class="author-bio">节物风光不相待，桑田碧海须臾改，唯有美食和code不可辜负。</p>

    </section>

</div>
<div class="clearfix"></div>

<ul class="pager">
    
    <li class="previous"><a href="http://www.shunmian.me/algorithm/2015/09/01/Algorithm(%E4%B8%80)_Union-Find.html" title= "">&larr; Previous</a></li>
    
    
    <li class="next">"<a href="http://www.shunmian.me/algorithm/2015/09/03/Algorithm(%E4%B8%89)_Sorting-%E6%8E%92%E5%BA%8F-part-I.html" title= "Algorithm(三)： Sorting 排序 part I">Next &rarr;</a></li>
    
</ul>

    <hr />
    
    <section class="comments" style="margin-top:15px;">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'shunmianjohnson'; // required: replace example with your forum shortname
        if(disqus_shortname){
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        }
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </section>
    
    </div>
    <div class="col-sm-1sidebar-2"></div>
    <div class="clearfix"></div>
</article>
<div class="clearfix"></div>


                <div class="footer">
                    <footer>
                        <hr />
                        <p> &copy: 2015 Shunmian with jekyll. Theme: <a href="https://github.com/dbtek/dbyll"dbyll</a> by dbtek.
                        </p>
                    </footer>
                </div>
            </div>
        </div>
    </div>


    <script src="/assets/js/jquery-2.2.0.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/script.js"></script>
    <script type="text/javascript">

$youziku.load(".sidebar_bio", "bdcc72b8235345649b02c123dac5610b", "SiYuan-ExtraLight");


   $youziku.draw();
</script>

</body>

</html>

